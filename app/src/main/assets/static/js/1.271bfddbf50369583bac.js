webpackJsonp([1],{"0WAe":function(t,e){},"2XOh":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l(i("eOoE")),n=l(i("CE8n")),s=l(i("kBki")),r=l(i("ObEq"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={name:"offline_activity",data:function(){return{result:{},activityId:this.$route.query.id}},components:{activityMemberHeader:n.default,activityVideo:s.default,activityTab:r.default},methods:{playEndState:function(t){this.result.hasPlay=t}},created:function(){this.$nextTick(function(){var t=this;a.default.activityDetail(this.activityId,function(e){t.result=e.data,document.title=t.result.name,a.default.getMoneyUserList({id:t.activityId,currentResult:0,pageSize:5},function(e){t.result.finishUser=e.data})})})}}},KBGi:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=i("eOoE"),s=(a=n)&&a.__esModule?a:{default:a};e.default={data:function(){return{trialOver:!1}},props:["result"],computed:{activityType:function(){var t="";return 1==this.result.activityForm?t="视频活动":0==this.result.activityForm?t="线下活动":2==this.result.activityForm&&(t="问卷活动"),t}},methods:{start:function(){this.$refs.video.play()},playEnd:function(){this.$emit("listenToChildEvent",1)},startPlay:function(t){var e=this,i=t.currentTarget,a=this.$refs.videoCanvas,n=a.getContext("2d"),s=(i.duration,this),r=setInterval(function(){0==s.join&&i.currentTime>=5&&(i.pause(),e.trialOver=!0,clearInterval(r)),n.drawImage(i,0,0,a.width,a.height)},50)},followActivity:function(){var t=this;s.default.followActivity(this.result.kid,{follow:this.result.follow?0:1},function(){1==t.result.follow?t.result.follow=!1:t.result.follow=!0})}},updated:function(){var t=new Image;t.src=this.result.activityImage1;var e=this.$refs.videoCanvas,i=e.getContext("2d");t.complete?i.drawImage(t,0,0,e.width,e.height):t.onload=function(){i.drawImage(t,0,0,e.width,e.height)}}}},XS0Z:function(t,e){},jwsn:function(t,e,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row p-relative"},[a("span",{staticClass:"activity-info-box abs-state1"},[t._v("正在进行")]),t._v(" "),a("span",{staticClass:"activity-info-box abs-state2"},[t._v(t._s(t.activityType))]),t._v(" "),t.result.follow?a("img",{staticClass:"abs-state3",attrs:{src:i("b1aa")},on:{click:t.followActivity}}):t._e(),t._v(" "),t.result.follow?t._e():a("img",{staticClass:"abs-state3",attrs:{src:i("FAPx")},on:{click:t.followActivity}}),t._v(" "),a("video",{ref:"video",staticStyle:{display:"none"},attrs:{controls:"controls",poster:t.result.activityImage1,playsinline:"","x-webkit-airplay":"","webkit-playsinline":"","x5-video-player-type":"h5",src:t.result.activityVedio},on:{ended:t.playEnd,playing:t.startPlay}},[t._v("\n        你的浏览器不支持播放视频\n    ")]),t._v(" "),t.trialOver?a("div",{staticStyle:{position:"absolute",background:"red",top:"20px"}},[t._v("你还未登录,请先登录再继续观看")]):t._e(),t._v(" "),a("canvas",{ref:"videoCanvas",staticStyle:{width:"100%",height:"100%"},on:{"~click":function(e){t.start(e)}}})])},staticRenderFns:[]};e.a=a},kBki:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("KBGi"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i("jwsn");var l=function(t){i("XS0Z")},o=i("VU/8")(n.a,r.a,!1,l,null,null);e.default=o.exports},lwcm:function(t,e,i){"use strict";var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"activity-header-box"},[e("activity-member-header",{attrs:{result:this.result}}),this._v(" "),e("activity-video",{attrs:{result:this.result},on:{listenToChildEvent:this.playEndState}}),this._v(" "),e("activity-tab",{attrs:{result:this.result}})],1)])},staticRenderFns:[]};e.a=a},vnRn:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("2XOh"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);var r=i("lwcm");var l=function(t){i("0WAe")},o=i("VU/8")(n.a,r.a,!1,l,null,null);e.default=o.exports}});
//# sourceMappingURL=1.271bfddbf50369583bac.js.map