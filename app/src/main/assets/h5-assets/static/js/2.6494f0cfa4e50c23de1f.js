webpackJsonp([2],{7120:function(t,e){},"7TB1":function(t,e,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{overflow:"hidden"}},[i("div",{staticClass:"activity-header-box"},[t.result.kid?i("activity-member-header",{attrs:{result:t.result}}):t._e(),t._v(" "),t.result.kid&&1!=t.result.activityForm?i("activity-picture",{attrs:{result:t.result}}):t._e(),t._v(" "),t.result.kid&&1==t.result.activityForm?i("activity-video",{attrs:{result:t.result},on:{listenToChildEvent:t.playEndState}}):t._e(),t._v(" "),t.result.kid?i("activity-tab",{attrs:{result:t.result}}):t._e()],1)])},staticRenderFns:[]};e.a=a},KBGi:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,n=i("eOoE"),r=(a=n)&&a.__esModule?a:{default:a};e.default={data:function(){return{trialOver:!1}},props:["result"],computed:{activityType:function(){var t="";return 1==this.result.activityForm?t="视频活动":0==this.result.activityForm?t="线下活动":2==this.result.activityForm&&(t="问卷活动"),t}},methods:{start:function(){this.$refs.video.play()},playEnd:function(){this.$emit("listenToChildEvent",1)},startPlay:function(t){var e=this,i=t.currentTarget,a=this.$refs.videoCanvas,n=a.getContext("2d"),r=(i.duration,this),s=setInterval(function(){0==r.join&&i.currentTime>=5&&(i.pause(),e.trialOver=!0,clearInterval(s)),n.drawImage(i,0,0,a.width,a.height)},50)},followActivity:function(){var t=this;r.default.followActivity(this.result.kid,{follow:this.result.follow?0:1},function(){1==t.result.follow?t.result.follow=!1:t.result.follow=!0})}},updated:function(){var t=new Image;t.src=this.result.activityImage1;var e=this.$refs.videoCanvas,i=e.getContext("2d");t.complete?i.drawImage(t,0,0,e.width,e.height):t.onload=function(){i.drawImage(t,0,0,e.width,e.height)}}}},VYtr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=d(i("Dd8w")),n=d(i("eOoE")),r=d(i("IcnI")),s=i("NYxO"),l=d(i("CE8n")),o=d(i("NdN2")),u=d(i("kBki")),c=d(i("ObEq"));function d(t){return t&&t.__esModule?t:{default:t}}e.default={name:"activity",data:function(){return{result:{},activityId:this.$route.query.id}},methods:{playEndState:function(t){this.result.hasPlay=t},closeDialog:function(){this.dialogShow=!1}},computed:(0,a.default)({},(0,s.mapState)({activityStatus:function(t){return t.activityModule.activityStatus},join:function(t){return t.activityModule.join}})),watch:{activityStatus:{handler:function(t,e){console.log("改变了"),this.result.activityStatus=t},deep:!0},join:{handler:function(t,e){this.result.join=t},deep:!1}},components:{activityMemberHeader:l.default,activityPicture:o.default,activityTab:c.default,activityVideo:u.default},created:function(){this.$nextTick(function(){var t=this;n.default.activityDetail(this.activityId,function(e){t.result=e.data,document.title=t.result.name,r.default.commit("UPDATE_ACTIVITY_STATUS",{activityStatus:e.data.activityStatus}),r.default.commit("UPDATE_JOIN",{join:e.data.join}),n.default.getMoneyUserList({id:t.activityId,currentResult:0,pageSize:5},function(e){t.result.finishUser=e.data})})})}}},XS0Z:function(t,e){},jwsn:function(t,e,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row p-relative"},[a("span",{staticClass:"activity-info-box abs-state1"},[t._v("正在进行")]),t._v(" "),a("span",{staticClass:"activity-info-box abs-state2"},[t._v(t._s(t.activityType))]),t._v(" "),t.result.follow?a("img",{staticClass:"abs-state3",attrs:{src:i("b1aa")},on:{click:t.followActivity}}):t._e(),t._v(" "),t.result.follow?t._e():a("img",{staticClass:"abs-state3",attrs:{src:i("FAPx")},on:{click:t.followActivity}}),t._v(" "),a("video",{ref:"video",staticStyle:{display:"none"},attrs:{controls:"controls",poster:t.result.activityImage1,playsinline:"","x-webkit-airplay":"","webkit-playsinline":"","x5-video-player-type":"h5",src:t.result.activityVedio},on:{ended:t.playEnd,playing:t.startPlay}},[t._v("\n        你的浏览器不支持播放视频\n    ")]),t._v(" "),t.trialOver?a("div",{staticStyle:{position:"absolute",background:"red",top:"20px"}},[t._v("你还未登录,请先登录再继续观看")]):t._e(),t._v(" "),a("canvas",{ref:"videoCanvas",staticStyle:{width:"100%",height:"100%"},on:{"~click":function(e){t.start(e)}}})])},staticRenderFns:[]};e.a=a},kBki:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("KBGi"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var s=i("jwsn");var l=function(t){i("XS0Z")},o=i("VU/8")(n.a,s.a,!1,l,null,null);e.default=o.exports},oFIl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("VYtr"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var s=i("7TB1");var l=function(t){i("7120")},o=i("VU/8")(n.a,s.a,!1,l,null,null);e.default=o.exports}});
//# sourceMappingURL=2.6494f0cfa4e50c23de1f.js.map