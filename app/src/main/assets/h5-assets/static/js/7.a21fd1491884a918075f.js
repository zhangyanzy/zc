webpackJsonp([7],{"9ACB":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u=e("mu+s"),a=e.n(u);for(var c in u)"default"!==c&&function(t){e.d(i,t,function(){return u[t]})}(c);var o=e("Vkql");var r=function(t){e("cxbq")},s=e("VU/8")(a.a,o.a,!1,r,"data-v-2961957d",null);i.default=s.exports},Vkql:function(t,i,e){"use strict";var u={render:function(){var t=this,i=t.$createElement,u=t._self._c||i;return u("div",{staticStyle:{width:"100%",position:"relative",height:"100vh",overflow:"auto"}},[u("div",{staticClass:"font-28 f-8f tit",staticStyle:{padding:"0 8px"}},[t._v("\n            活动示意图\n        ")]),t._v(" "),u("div",[u("img",{directives:[{name:"loading-img",rawName:"v-loading-img"}],staticStyle:{width:"14.04rem",display:"block",margin:"0 auto"},attrs:{src:t.img}})]),t._v(" "),u("div",{staticClass:"font-28 f-8f tit",staticStyle:{padding:"0 8px"}},[t._v("\n            上传活动照片\n        ")]),t._v(" "),u("div",[t.picture.picture?t._e():u("div",{staticClass:"tc",staticStyle:{width:"14.04rem",height:"7.92rem",border:"1px dashed black","border-radius":"8px",margin:"0 auto",display:"flex","justify-content":"center","align-items":"center"},on:{click:t.takePhoto}},[u("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:e("YEmu")}})]),t._v(" "),t.picture.picture?u("img",{directives:[{name:"loading-img",rawName:"v-loading-img"}],staticStyle:{width:"14.04rem",display:"block",margin:"0 auto"},attrs:{src:t.picture.picture},on:{click:t.takePhoto}}):t._e()]),t._v(" "),t.$route.query.childId?t._e():u("div",{staticClass:"mg-t15",staticStyle:{width:"100%","text-align":"center"}},[u("a",{staticClass:"subBtn",on:{click:t.commitActivity}},[t._v("提交")])]),t._v(" "),t.$route.query.childId?u("div",{staticClass:"mg-t15",staticStyle:{width:"100%","text-align":"center"}},[u("a",{staticClass:"subBtn",on:{click:t.commitChildActivity}},[t._v("提交")])]):t._e(),t._v(" "),t.dialogShow?u("div",{staticClass:"dialogQuestion"},[u("div",{staticClass:"box"},[t.result.kid?u("dialog-questionnaire",{attrs:{result:t.result,questionRequest:t.questionRequest,callback:t.$route.query.childId?t.commitChildActivity2:t.commitActivity2},on:{closeDialog:t.closeDialog}}):t._e()],1)]):t._e()])},staticRenderFns:[]};i.a=u},YEmu:function(t,i){t.exports="data:image/png;base64,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"},cxbq:function(t,i){},"mu+s":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u=v(e("Dd8w")),a=v(e("eOoE")),c=v(e("IcnI")),o=e("NYxO"),r=v(e("7+uW")),s=v(e("P8HK")),d=v(e("/kga")),l=v(e("63CM")),n=v(e("vQXk"));function v(t){return t&&t.__esModule?t:{default:t}}i.default={name:"commit_offline_activity",data:function(){return{dialogShow:!1,result:{},activityCode:null,img:"",questionRequest:""}},computed:(0,u.default)({},(0,o.mapState)({picture:function(t){return t.activityModule.picture?{picture:t.activityModule.picture.picture,code:t.activityModule.picture.code}:{}},uuid:function(t){return t.userModule.uuid},questionStatus:function(t){return t.activityModule.questionStatus}})),methods:{takePhoto:function(){var t=this.result.activityCode?this.result.activityCode:"-1";0===this.result.ifCheck&&(t="-1");try{s.default.method("takePhoto",function(t){console.log("调用成功")},t)}catch(t){alert(t)}},deleteImg:function(){c.default.commit("OFFLINE_IMG",{picture:null,code:"-1"})},commitChildActivity:function(){this.picture.picture?1==this.$route.query.lastOne&&0===this.$route.query.questionStatus?this.dialogShow=!0:this.commitChildActivity2(0):r.default.$vux.toast.show({text:"请上传活动图片",type:"text"})},commitChildActivity2:function(t){var i=this,e=this,u={uicode:e.uuid,seriesId:this.$route.query.childId,deliverImage1:this.picture.picture,questionStatus:t,lastOne:this.$route.query.lastOne};-1!=this.picture.code&&"-1"!=this.picture.code&&(u.activityCode=this.picture.code),a.default.commitChildActivity(this.$route.query.id,u,function(t){r.default.$vux.toast.show({text:"提交成功"}),c.default.commit("OFFLINE_IMG",{picture:null,code:"-1"}),e.$router.go(-1),1==i.$route.query.lastOne?(c.default.commit("UPDATE_STATUS"),c.default.commit("UPDATE_ACTIVITY_STATUS",{activityStatus:1})):c.default.commit("UPDATE_STATUS")})},commitActivity:function(){var t=this;this.picture.picture?a.default.activityDetail(t.$route.query.id,function(i){0==i.data.questionStatus?t.dialogShow=!0:t.commitActivity2()}):r.default.$vux.toast.show({text:"请上传活动图片",type:"text"})},commitActivity2:function(t){var i=this,e={uicode:i.uuid,activityForm:0,deliverImage1:this.picture.picture,questionStatus:t};-1!=this.picture.code&&"-1"!=this.picture.code&&(e.activityCode=this.picture.code),a.default.submitActivity(this.$route.query.id,e,function(t){r.default.$vux.toast.show({text:"提交成功"}),c.default.commit("OFFLINE_IMG",{picture:""}),c.default.commit("OFFLINE_CODE",""),i.$router.go(-1),c.default.commit("UPDATE_ACTIVITY_STATUS",{activityStatus:1})})},closeDialog:function(){this.dialogShow=!1}},directives:{TransferDom:l.default},components:{XDialog:d.default,dialogQuestionnaire:n.default},created:function(){var t=this;this.$route.query.childId?a.default.activityDetail(t.$route.query.id,function(i){t.questionRequest=i.data.questionRequest,a.default.getChildActivityDetail(t.$route.query.id,t.$route.query.childId,function(e){t.result=e.data,1===e.data.ifCheck&&r.default.$vux.toast.show({text:"上传图片前需要先进行识别二维码操作"}),t.$set(t.result,"questionId",t.$route.query.questionId),a.default.getActivityChildImage(t.$route.query.childId,i.data.activityType,function(i){t.img=i.data})})}):a.default.activityDetail(this.$route.query.id,function(i){t.result=i.data,1===i.data.ifCheck&&r.default.$vux.toast.show({text:"上传图片前需要先进行识别二维码操作"}),t.questionRequest=i.data.questionRequest,a.default.getActivityChildImage(t.$route.query.id,i.data.activityType,function(i){t.img=i.data})})}}}});
//# sourceMappingURL=7.a21fd1491884a918075f.js.map