{"version":3,"sources":["webpack:///./src/views/video_activity.vue","webpack:///./src/components/activity_video.vue","webpack:///./src/components/activity_video.vue?c0e7","webpack:///./src/components/activity_video.vue?e3e7","webpack:///./src/views/video_activity.vue?5a76","webpack:///./src/views/video_activity.vue?3a50"],"names":["__webpack_require__","name","data","result","activityId","this","$route","query","id","components","activityMemberHeader","activityVideo","activityTab","methods","playEndState","hasPlay","created","$nextTick","self","_axios2","default","activityDetail","response","document","title","getMoneyUserList","currentResult","pageSize","finishUser","_axios","trialOver","props","computed","activityType","tmp","activityForm","start","$refs","video","play","playEnd","$emit","startPlay","event","_this","currentTarget","canvas","videoCanvas","context","getContext","duration","timer","setInterval","join","currentTime","pause","clearInterval","drawImage","width","height","followActivity","_this2","kid","follow","updated","videoImg","Image","src","activityImage1","complete","onload","esExports","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","on","click","_e","ref","staticStyle","display","controls","poster","playsinline","x-webkit-airplay","webkit-playsinline","x5-video-player-type","activityVedio","ended","playing","position","background","top","~click","$event","staticRenderFns","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5ffa9c2e_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vux_loader_src_before_template_compiler_loader_js_node_modules_vux_loader_src_template_loader_js_node_modules_vue_loader_lib_selector_type_template_index_0_activity_video_vue__","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_src_script_loader_js_node_modules_vue_loader_lib_selector_type_script_index_0_activity_video_vue___default","a","listenToChildEvent","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_9c153d9e_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vux_loader_src_before_template_compiler_loader_js_node_modules_vux_loader_src_template_loader_js_node_modules_vue_loader_lib_selector_type_template_index_0_video_activity_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vux_loader_src_script_loader_js_node_modules_vue_loader_lib_selector_type_script_index_0_video_activity_vue___default"],"mappings":"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","file":"static/js/1.271bfddbf50369583bac.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport http from '../axios';\n\nimport activityMemberHeader from '../components/activity_member_header'\nimport activityVideo from '../components/activity_video'\n\n\nimport activityTab from '../components/activity_tab'\n\nexport default {\n    name : \"offline_activity\",\n    data(){\n        return {\n            result:{},\n            activityId:this.$route.query.id,\n        }\n    },\n    components:{\n        activityMemberHeader,activityVideo,activityTab\n    },\n    methods:{\n        playEndState(data){\n            this.result.hasPlay = data;\n        }\n    },\n    created(){\n        this.$nextTick(function () {\n            var self = this;\n            http.activityDetail(this.activityId,function(response) {\n                self.result = response.data;\n                document.title = self.result.name;  //修改标题为活动名\n\n                http.getMoneyUserList({\n                    id:self.activityId,\n                    currentResult:0,\n                    pageSize:5\n                }, function (response) {\n                    self.result.finishUser = response.data;\n                })\n            })\n        })\n\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/video_activity.vue","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport http from '@/axios'\n\nexport default {\n    data(){\n        return {\n            trialOver:false,\n        }\n    },\n    props:['result'],\n    computed:{\n        activityType(){\n            var tmp = \"\";\n            if(this.result.activityForm == 1){\n                tmp =  \"视频活动\";\n            }else if(this.result.activityForm == 0){\n                tmp =  \"线下活动\";\n            }else if(this.result.activityForm == 2){\n                tmp = \"问卷活动\";\n            }\n\n            return tmp;\n        },\n    },\n    methods:{\n        start(){\n            var video = this.$refs.video;\n            video.play();\n        },\n        playEnd(){\n           this.$emit(\"listenToChildEvent\",1);\n        },\n        startPlay(event){\n            var video = event.currentTarget;\n            var canvas = this.$refs.videoCanvas;\n            var context = canvas.getContext(\"2d\");\n\n            var videoTime = video.duration; //视频的总时间\n            var self = this;\n\n            var timer = setInterval(()=>{\n                if(self.join== 0 && video.currentTime >= 5){\n                    video.pause();\n                    this.trialOver = true;\n                    clearInterval(timer)\n                }\n                context.drawImage(video, 0, 0, canvas.width, canvas.height);//绘制视频\n            },50)\n        },\n        followActivity(){\n            http.followActivity(this.result.kid,{follow:this.result.follow?0:1},()=>{\n                if(this.result.follow == true){\n                    this.result.follow = false\n                }else{\n                    this.result.follow = true\n                }\n            })\n        }\n    },\n    updated(){\n        /* 加载视频默认图 */\n        var videoImg = new Image();\n        videoImg.src = this.result.activityImage1;\n        var canvas = this.$refs.videoCanvas;\n        var context = canvas.getContext(\"2d\");\n        if(videoImg.complete){\n            context.drawImage(videoImg, 0, 0, canvas.width, canvas.height);//图片\n        }else{\n            videoImg.onload = () => {\n                context.drawImage(videoImg, 0, 0, canvas.width, canvas.height);//图片\n            }\n        }\n        /* 加载视频默认图 end */\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/activity_video.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row p-relative\"},[_c('span',{staticClass:\"activity-info-box abs-state1\"},[_vm._v(\"正在进行\")]),_vm._v(\" \"),_c('span',{staticClass:\"activity-info-box abs-state2\"},[_vm._v(_vm._s(_vm.activityType))]),_vm._v(\" \"),(_vm.result.follow)?_c('img',{staticClass:\"abs-state3\",attrs:{\"src\":require(\"../assets/image/follow-in.png\")},on:{\"click\":_vm.followActivity}}):_vm._e(),_vm._v(\" \"),(!_vm.result.follow)?_c('img',{staticClass:\"abs-state3\",attrs:{\"src\":require(\"../assets/image/follow-out.png\")},on:{\"click\":_vm.followActivity}}):_vm._e(),_vm._v(\" \"),_c('video',{ref:\"video\",staticStyle:{\"display\":\"none\"},attrs:{\"controls\":\"controls\",\"poster\":_vm.result.activityImage1,\"playsinline\":\"\",\"x-webkit-airplay\":\"\",\"webkit-playsinline\":\"\",\"x5-video-player-type\":\"h5\",\"src\":_vm.result.activityVedio},on:{\"ended\":_vm.playEnd,\"playing\":_vm.startPlay}},[_vm._v(\"\\n        你的浏览器不支持播放视频\\n    \")]),_vm._v(\" \"),(_vm.trialOver)?_c('div',{staticStyle:{\"position\":\"absolute\",\"background\":\"red\",\"top\":\"20px\"}},[_vm._v(\"你还未登录,请先登录再继续观看\")]):_vm._e(),_vm._v(\" \"),_c('canvas',{ref:\"videoCanvas\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},on:{\"~click\":function($event){_vm.start($event)}}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ffa9c2e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/activity_video.vue\n// module id = jwsn\n// module chunks = 1 2","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5ffa9c2e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./activity_video.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./activity_video.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./activity_video.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ffa9c2e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../node_modules/vux-loader/src/template-loader.js!../../node_modules/vue-loader/lib/selector?type=template&index=0!./activity_video.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/activity_video.vue\n// module id = kBki\n// module chunks = 1 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"activity-header-box\"},[_c('activity-member-header',{attrs:{\"result\":_vm.result}}),_vm._v(\" \"),_c('activity-video',{attrs:{\"result\":_vm.result},on:{\"listenToChildEvent\":_vm.playEndState}}),_vm._v(\" \"),_c('activity-tab',{attrs:{\"result\":_vm.result}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9c153d9e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/video_activity.vue\n// module id = lwcm\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9c153d9e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./video_activity.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./video_activity.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./video_activity.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9c153d9e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../node_modules/vux-loader/src/template-loader.js!../../node_modules/vue-loader/lib/selector?type=template&index=0!./video_activity.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/video_activity.vue\n// module id = vnRn\n// module chunks = 1"],"sourceRoot":""}